---
layout: post
title:  "Apidoc.js的使用"
date:   2017-05-09 19:44:00
categories: Others  
tags: [整理]
---
# Apidoc.js的使用


## 一、需求
 
在撰写后台服务器接口时，最麻烦的事情就是接口文档的维护了。   
使用Apidoc.js，能够根据特定格式的注释生成文档，优雅地展示出来，相对而言省去了许多文档的维护和同步工作。  

## 二、使用方法

首先需要安装npm环境，推荐使用nvm包进行管理。
安装好npm环境后，安装：
`npm install apidoc -g`
然后执行
`apidoc -i myapp/ -o apidoc/ -t mytemplate/`
这句语句表示输入文件夹是myapp，输出文件夹是apidoc，模板参考mytemplate文件。   
这样会对myapp下所有文件中的注释进行搜索，并生成相关内容。

比如，Laravel框架下，通常需要对所有Controller下的控制器中的接口生成文档，同时希望把文档放在一个可访问的目录下，就执行：
`apidoc -i app/Http/Controllers -o public/doc`
这样所有的Controllers下的接口都生成了文档，可以使用[site_url:port]/doc访问到。


## 三、相关参数

在使用过程中，可能使用的相关参数及含义如下：

```
/** 关注列表
     * 
     * @api {GET} /api/v1/user/{target_user_id}/follow/list/    4.3.3 关注列表
     * @apiVersion 1.0.0
     * @apiName followList
     * @apiGroup User
     *
     * @apiParam (公共参数) {Number} user_id 用户ID
     * @apiParam (公共参数) {String} user_token 用户token
     *
     * @apiParam {Number} target_user_id 目标用户ID
     * @apiParam {Number} page 页数索引，从1开始
     *
     *
     * @apiDescription 
     这个接口要注意区分两个参数，target_user_id在url里表示要看的用户的ID，而user_id表示自己的用户ID；返回值包含信息有每一项都是一个用户，目前可能不完整；self_follow表示使用者本人是否关注了那个用户，self_be_followed表示那个用户是否关注了使用者本人
     */
```


